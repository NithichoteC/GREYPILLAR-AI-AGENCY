@tailwind base;
@tailwind components;
@tailwind utilities;

/* Build: 2025-01-02 - Force CSS cache refresh for capabilities section spacing fixes */

/* =========================
   MONOCHROME FOUNDATION
   Professional Grey Pillar Brand
========================= */
:root {
    /* Steel/Metallic Color Palette */
    --lightest: #F7F7F8;     /* New main background - more subtle */
    --very-light: #f8f9fa;   /* Secondary light */
    --light: #e9ecef;        /* Previous main, now secondary */
    --medium-light: #ced4da;
    --medium: #adb5bd;
    --medium-dark: #6c757d;
    --dark: #495057;
    --very-dark: #343a40;
    --darkest: #212529;
    --pure-white: #FFFFFF;

    /* Glass Morphism Effects */
    --glass: rgba(255, 255, 255, 0.05);
    --glass-strong: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-shadow: rgba(0, 0, 0, 0.3);

    /* Typography Scale */
    --font-xs: 0.75rem;
    --font-sm: 0.875rem;
    --font-base: 1rem;
    --font-lg: 1.125rem;
    --font-xl: 1.25rem;
    --font-2xl: 1.5rem;
    --font-3xl: 1.875rem;
    --font-4xl: 2.25rem;
    --font-5xl: 3rem;
    --font-6xl: 3.75rem;
    --font-7xl: 4.5rem;

    /* Spacing Scale */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;
    --space-3xl: 4rem;
    --space-4xl: 6rem;
    --space-5xl: 8rem;

    /* Animation Curves */
    --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* =========================
   RESET & BASE STYLES
========================= */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: 'Manrope', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: var(--lightest);
    color: var(--darkest);
    line-height: 1.6;
    font-size: var(--font-base);
    overflow-x: hidden;
}

/* REMOVED DUPLICATE - See correct implementation at line ~220 */

/* =========================
   GLASS NAVIGATION (Nitro Style) - Fixed Height
========================= */
.glass-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    backdrop-filter: blur(20px);
    background: rgba(255, 255, 255, 0.1);
    height: 61px; /* Fixed height - no more padding calculations */
    transition: all 0.15s var(--ease-smooth);
    transform: translateZ(0);
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-xl);
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    height: 100%; /* Fill parent height exactly */
}

/* Fixed bottom border - constrained to inner content width */
.nav-container::after {
    content: '';
    position: absolute;
    bottom: 0; /* Always at bottom of container */
    left: var(--space-xl); /* Start after padding */
    right: var(--space-xl); /* End before padding */
    height: 1px;
    background: rgba(33, 37, 41, 0.1); /* Subtle grey with low opacity */
}

/* Dark mode border color */
.nav-over-dark .nav-container::after {
    background: rgba(255, 255, 255, 0.12);
}

/* Mobile nav border - match smaller padding */
@media (max-width: 809.98px) {
    .nav-container::after {
        left: var(--space-md);
        right: var(--space-md);
    }
}

.logo {
    font-size: var(--font-lg);
    font-weight: 800;
    color: var(--darkest);
    text-decoration: none;
    letter-spacing: -0.01em;
}

.nav-links {
    display: flex;
    align-items: center;
    gap: var(--space-xl);
}

.nav-link {
    font-size: var(--font-sm);
    font-weight: 400;
    color: var(--darkest);
    text-decoration: none;
    transition: all 0.2s var(--ease-smooth);
}

.nav-link:hover {
    color: var(--medium-dark);
}

.nav-cta {
    font-size: var(--font-sm);
    font-weight: 400;
    color: var(--darkest);
    text-decoration: none;
    position: relative;
    transition: all 0.2s var(--ease-smooth);
}

.nav-cta:hover {
    color: var(--medium-dark);
}

.nav-cta .underline {
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: var(--darkest);
    transform: scaleX(1);
    transform-origin: left;
    transition: transform 0.3s var(--ease-smooth);
}

.nav-cta:hover .underline {
    transform: scaleX(0);
    transform-origin: right;
}

/* =========================
   ADAPTIVE NAVIGATION COLORS (Apple/Stripe Pattern)
========================= */
.glass-nav.nav-over-dark .logo,
.glass-nav.nav-over-dark .nav-link,
.glass-nav.nav-over-dark .nav-cta,
.glass-nav.nav-over-dark .menu-text {
    color: white;
    transition: color 250ms ease-in-out;
}

.glass-nav.nav-over-dark .nav-cta .underline {
    background-color: white;
}

.glass-nav.nav-over-dark .menu-line {
    background: white;
}

/* Mobile menu open: Force black nav elements (overrides .nav-over-dark) */
.glass-nav.nav-over-dark.menu-open .logo,
.glass-nav.nav-over-dark.menu-open .menu-text {
    color: var(--darkest) !important;
}

.glass-nav.nav-over-dark.menu-open .menu-line {
    background: var(--darkest) !important;
}

/* Force progress bar to stay black when menu open */
.glass-nav.menu-open ~ .scroll-progress.over-dark::before {
    background: var(--darkest) !important;
}

/* =========================
   SCROLL PROGRESS BAR (LinkedIn/Medium Pattern)
========================= */
.scroll-progress {
    position: fixed;
    top: 60px; /* Overlay nav bottom border (61px - 1px) */
    left: 50%; /* Center positioning */
    transform: translateX(-50%); /* Perfect centering */
    width: calc(1200px - 2 * var(--space-xl)); /* Match nav content width */
    max-width: calc(100vw - 2 * var(--space-xl)); /* Responsive */
    height: 1px; /* Match nav border thickness */
    z-index: 1001; /* Above nav border */
    pointer-events: none;
}

.scroll-progress::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    background: rgba(33, 37, 41, 1); /* Black */
    transform-origin: left;
    transform: translate3d(0, 0, 0) scaleX(calc(var(--scroll-progress, 0) * 0.01)); /* Browser-optimized calc() */
    /* will-change managed dynamically in JavaScript */
    transition: background 150ms ease-in-out; /* Smooth background change */
}

.scroll-progress.over-dark::before {
    background: white; /* White when over dark section */
    transition: background 150ms ease-in-out;
}

/* =========================
   GLASSMORPHISM FLOATING CTA (21st.dev Premium Style)
========================= */
.glass-button-wrap {
    position: relative;
    display: inline-block;
    cursor: pointer;
    border-radius: 9999px;
}

.glass-button {
    position: relative;
    isolation: isolate;
    all: unset;
    cursor: pointer;
    border-radius: 9999px;
    transition: all 0.3s ease;
    /* Size variant: default */
    font-size: 1rem;
    font-weight: 500;
}

.glass-button-wrap {
    border-radius: 9999px;
}

.glass-button-text {
    position: relative;
    display: block;
    padding: 14px 24px;
    /* Pure blur glass like hero nav */
    color: var(--darkest);
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 9999px;
    opacity: 1; /* Default visible */
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1), opacity 200ms ease-in-out;
    transform: translateZ(0);
    will-change: transform; /* Pre-render blur layer on element itself */
    user-select: none;
    -webkit-user-select: none;
    letter-spacing: -0.025em;
    text-decoration: none;
    box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.08),
        0 8px 16px rgba(0, 0, 0, 0.12);
}

.glass-button:hover .glass-button-text {
    color: #000000;
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(0, 0, 0, 0.15);
    box-shadow:
        0 4px 6px rgba(0, 0, 0, 0.1),
        0 10px 20px rgba(0, 0, 0, 0.15);
}

/* DARK SECTIONS: over-dark class triggers on #solution */
.glass-button-wrap.over-dark .glass-button-text {
    color: #FFFFFF !important;
}

.glass-button-wrap.over-dark:hover .glass-button-text {
    color: #FFFFFF !important;
}

/* Floating CTA container - prevent transparent square artifact */
.floating-cta {
    background: transparent !important;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    /* GPU acceleration without breaking backdrop-filter isolation */
}

/* Control button opacity via parent state - blur always rendered */
.floating-cta:not(.visible) .glass-button-text,
.floating-cta:not(.visible) .glass-button-shadow {
    opacity: 0;
}

.floating-cta a {
    background: transparent !important;
    display: inline-block;
}

/* iOS Low Power Mode & Accessibility - Respect user preferences */
@media (prefers-reduced-motion: reduce) {
    .glass-nav,
    .glass-button-text,
    .scroll-progress::before {
        transition: none !important;
    }
}

/* Shadow element (21st.dev uses separate shadow div) */
.glass-button-shadow {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: -2px;
    /* DEFAULT = LIGHT SECTIONS: Dark shadow */
    background: rgba(0, 0, 0, 0.08);
    filter: blur(10px);
    border-radius: 9999px;
    z-index: -1;
    transition: all 0.3s ease;
}

.glass-button:hover .glass-button-shadow {
    bottom: -4px;
    filter: blur(12px);
}

/* =========================
   MOBILE MENU (Nitro Style)
========================= */
.mobile-menu-toggle {
    display: none;
    align-items: center;
    gap: var(--space-sm);
    background: none;
    border: none;
    cursor: pointer;
    padding: var(--space-sm);
    position: fixed; /* Fixed at root level, outside nav stacking context */
    top: 16px; /* Vertical center: (61px nav - 29px button) / 2 = 16px */
    right: var(--space-xl); /* Match nav container padding */
    z-index: 10002; /* Above mobile-nav overlay (10000) */
    border-radius: 6px;
    transition: all 0.2s var(--ease-smooth);
}

/* Remove hover background - cleaner modern style */

.menu-text {
    font-size: var(--font-sm);
    font-weight: 400;
    color: var(--darkest); /* Darker grey like CTA button border */
    user-select: none;
    transition: color 0.3s var(--ease-smooth);
}

/* Dark mode - white menu button when over dark section */
.mobile-menu-toggle.over-dark .menu-text {
    color: white;
}

.mobile-menu-toggle.over-dark .menu-line {
    background: white;
}

/* Black text when menu is open (overrides dark mode) */
.mobile-menu-toggle.active .menu-text {
    color: var(--darkest) !important; /* Black, override dark mode */
}

.mobile-menu-toggle.active .menu-line {
    background: var(--darkest) !important; /* Black, override dark mode */
}

.menu-icon {
    position: relative; /* Positioning context for absolute children */
    width: 20px;
    height: 14px; /* 2px top line + 10px gap + 2px bottom line = 14px */
}

.menu-line {
    position: absolute; /* Absolute positioning for smooth animation */
    left: 0;
    width: 20px;
    height: 2px;
    background: var(--darkest);
    transition: all 0.3s var(--ease-smooth);
    border-radius: 1px;
}

/* Initial positions - top and bottom */
.menu-line:first-child {
    top: 0px;
}

.menu-line:last-child {
    top: 12px; /* 14px container - 2px line height = 12px */
}

/* X-cross animation - both lines move to center, then rotate */
.mobile-menu-toggle.active .menu-line:first-child {
    top: 6px; /* Center: (14px - 2px) / 2 = 6px */
    transform: rotate(45deg);
}

.mobile-menu-toggle.active .menu-line:last-child {
    top: 6px; /* Same center position */
    transform: rotate(-45deg);
}

/* Full Screen Mobile Overlay - Modern 2025 Style */
.mobile-nav {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(255, 255, 255, 0.2); /* 20% opacity for visible blur */
    backdrop-filter: blur(20px); /* Same blur strength as nav */
    -webkit-backdrop-filter: blur(20px); /* Safari support */
    z-index: 10000;
    flex-direction: column;
    justify-content: flex-start; /* Move menu higher for 2025 modern look */
    align-items: flex-end; /* Right-aligned */
    padding-top: 120px; /* Space from top */
    padding-right: var(--space-xl); /* Match close button right edge */
    gap: var(--space-lg); /* Compressed spacing (24px vs 48px) */
    opacity: 0;
    transform: translateY(-20px) translateZ(0);
    transition: all 0.4s var(--ease-smooth);
}

.mobile-nav.open {
    display: flex;
    opacity: 1;
    transform: translateY(0) translateZ(0);
}

.mobile-nav .nav-link {
    font-size: var(--font-md); /* Smaller, modern 2025 style */
    font-weight: 500;
    color: var(--darkest); /* Black text on light blur background */
    text-decoration: none;
    padding: var(--space-sm) 0; /* Minimal padding for compressed look */
    text-align: right; /* Right-aligned text */
    text-transform: uppercase; /* All caps modern style */
    letter-spacing: 0.05em; /* Slight spacing for readability */
    transition: all 0.3s var(--ease-smooth);
}

.mobile-nav .nav-link:hover {
    opacity: 0.6; /* Subtle opacity hover instead of background */
    transform: translateX(-4px); /* Slight left movement on hover */
}

.mobile-nav .nav-cta {
    display: none; /* Nitro style - remove CTA from mobile menu */
}

.mobile-nav .nav-cta:hover {
    background: var(--very-dark);
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(33, 37, 41, 0.3);
}

.mobile-nav .nav-cta .underline {
    display: none;
}

/* =========================
   UNIFIED CONTAINER SYSTEM
   Hero frame matches navigation container exactly
========================= */

/* Base container - matches navigation inner content */
.container {
    max-width: calc(1200px - 2 * var(--space-xl));
    margin: 0 auto;
    padding: 0;
}

/* Hero container - EXACTLY matches nav-container dimensions */
.hero-container {
    max-width: 1200px; /* Same as nav-container */
    margin: 0 auto;    /* Same as nav-container */
    padding: 0 var(--space-xl); /* Same as nav-container */
}

.container-wide {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 var(--space-xl);
}

/* =========================
   SECTION SPACING
========================= */
.section {
    padding: var(--space-5xl) 0;
    background: #ffffff !important; /* Force white background for sections */
}

.section-hero {
    padding: calc(61px + var(--space-2xl)) 0 0 0; /* Navigation height + breathing room (48px gap) */
    min-height: 60vh;
    /* Removed flex display that was constraining hero-frame */
}

/* =========================
   TYPOGRAPHY SYSTEM
========================= */
.h1 {
    font-size: var(--font-6xl);
    font-weight: 800;
    line-height: 1.1;
    letter-spacing: -0.03em;
    color: var(--darkest);
}

.h2 {
    font-size: var(--font-4xl);
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
    color: var(--darkest);
}

.h3 {
    font-size: var(--font-3xl);
    font-weight: 600;
    line-height: 1.3;
    color: var(--darkest);
}

.subtitle {
    font-size: var(--font-xl);
    font-weight: 400;
    line-height: 1.5;
    color: var(--medium-dark);
    max-width: 600px;
}

.body-large {
    font-size: var(--font-lg);
    font-weight: 400;
    line-height: 1.6;
    color: var(--medium-dark);
}

.body {
    font-size: var(--font-base);
    font-weight: 400;
    line-height: 1.6;
    color: var(--medium-dark);
}

.caption {
    font-size: var(--font-sm);
    font-weight: 500;
    color: var(--medium-dark);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* =========================
   BUTTON SYSTEM
========================= */
.btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md) var(--space-xl);
    border-radius: 8px;
    font-weight: 600;
    font-size: var(--font-base);
    text-decoration: none;
    transition: all 0.2s var(--ease-smooth);
    cursor: pointer;
    border: 1px solid transparent;
}

.btn-primary {
    background: var(--darkest);
    color: var(--pure-white);
    border-color: var(--darkest);
}

.btn-primary:hover {
    background: var(--very-dark);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(33, 37, 41, 0.3);
}

.btn-ghost {
    background: transparent;
    color: var(--darkest);
    border-color: var(--medium);
}

.btn-ghost:hover {
    background: var(--light);
    border-color: var(--darkest);
}

/* Trust text styling */
.trust-text {
    font-size: var(--font-sm);
    color: var(--medium-dark);
    line-height: 1.5;
    max-width: 500px;
    margin: 0 auto;
}

/* =========================
   RESPONSIVE DESIGN (Unified Container System)
   Hero frame always matches nav-container exactly
========================= */

/* Large screens - wider container like template */
@media (min-width: 1440px) {
    .nav-container,
    .hero-container {
        max-width: 1600px; /* Both use same width */
        padding: 0 var(--space-xl); /* Both use same padding */
    }
    .container {
        max-width: calc(1600px - 2 * var(--space-xl));
    }
    .scroll-progress {
        width: calc(1600px - 2 * var(--space-xl));
    }
}

/* Desktop - constrained container (Nitro: 1024px-1439.98px) */
@media (min-width: 1024px) and (max-width: 1439.98px) {
    .nav-container,
    .hero-container {
        max-width: calc(100vw - 4rem); /* Both use same width */
        padding: 0 var(--space-xl); /* Both use same padding */
        width: 100%; /* Both take full available width */
    }
    .container {
        max-width: calc(100vw - 4rem - 2 * var(--space-xl));
    }
    .scroll-progress {
        width: calc(100vw - 4rem - 2 * var(--space-xl));
    }
}

/* Tablet - constrained container (Nitro: 810px-1023.98px) */
@media (min-width: 810px) and (max-width: 1023.98px) {
    .nav-container,
    .hero-container {
        max-width: calc(100vw - 4rem); /* Both use same width */
        padding: 0 var(--space-xl); /* Both use same padding */
    }
    .container {
        max-width: calc(100vw - 4rem - 2 * var(--space-xl));
    }
    .scroll-progress {
        width: calc(100vw - 4rem - 2 * var(--space-xl));
    }
}

/* Mobile - responsive container (Nitro breakpoint: 809.98px) */
@media (max-width: 809.98px) {
    .nav-container,
    .hero-container {
        padding: 0 var(--space-md); /* Both use same padding */
        max-width: calc(100vw - 2rem); /* Both use same width */
    }

    .nav-links {
        display: none;
    }

    .mobile-menu-toggle {
        display: flex;
    }

    .scroll-progress {
        width: calc(100vw - 2rem - 2 * var(--space-md));
        max-width: calc(100vw - 2rem - 2 * var(--space-md));
    }

    .container,
    .container-wide {
        padding: 0;
        max-width: calc(100vw - 2rem - 2 * var(--space-md));
    }

    .hero-content {
        padding: var(--space-2xl) 0;
        width: 80%;
    }

    .h1 {
        font-size: var(--font-4xl);
    }

    .h2 {
        font-size: var(--font-3xl);
    }

    .section {
        padding: var(--space-3xl) 0;
    }

    .section-hero {
        padding: calc(61px + var(--space-lg)) 0 0 0; /* Add 24px breathing room on mobile */
        min-height: 50vh;
    }
}

@media (max-width: 480px) {
    .hero-content {
        padding: var(--space-xl) var(--space-md);
        width: 95%; /* Almost full width on small mobile */
    }

    .h1 {
        font-size: var(--font-3xl);
    }

    .subtitle {
        font-size: var(--font-lg);
    }

    .nav-cta {
        padding: var(--space-xs) var(--space-md);
        font-size: var(--font-xs);
    }
}

/* =========================
   UTILITY CLASSES
========================= */
.text-center { text-align: center; }
.mb-sm { margin-bottom: var(--space-sm); }
.mb-md { margin-bottom: var(--space-md); }
.mb-lg { margin-bottom: var(--space-lg); }
.mb-xl { margin-bottom: var(--space-xl); }
.mb-2xl { margin-bottom: var(--space-2xl); }
.mt-lg { margin-top: var(--space-lg); }
.mt-xl { margin-top: var(--space-xl); }

.flex { display: flex; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.justify-center { justify-content: center; }
.gap-md { gap: var(--space-md); }
.gap-lg { gap: var(--space-lg); }

/* =========================
   HERO FRAME SYSTEM
========================= */
.hero-frame {
    /* Styling only - like .placeholder-section */
    height: 36vh; /* Reduced to 60% of original height for minimal content */
    background: var(--lightest);
    border: 1px solid var(--light);
    border-radius: 0; /* Sharp edges - no curves */
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.grid-canvas {
    width: 100%;
    height: 100%;
    display: block;
}


/* Hero Subheading Section */
.hero-subheading-section {
    padding: var(--space-3xl) 0 var(--space-xl) 0; /* 2x more space between headline and subheading */
}

.hero-text-content {
    max-width: 1200px;
    margin: 0;
    padding-top: var(--space-xl); /* 2x more space between frame and headline */
}

.hero-text-content .h1 {
    color: var(--darkest);
    margin-bottom: 0; /* Remove bottom margin since headline is now separate from subheading */
    font-size: var(--font-7xl); /* Back to 4.5rem (72px) for better balance */
    line-height: 1.2; /* Increased line height for better readability */
    font-weight: 700;
    letter-spacing: -0.02em;
}

.hero-text-content .subtitle {
    color: var(--medium-dark);
    margin-bottom: var(--space-xl);
}

.hero-text-content .trust-text {
    color: var(--medium);
}
.hero-secondary-text {
    color: var(--medium-dark);
    font-size: var(--font-lg); /* Increased from base to lg for better hierarchy */
    line-height: 1.8; /* Increased from 1.6 to 1.8 for better readability */
    margin-top: var(--space-md);
    font-weight: 400;
    text-align: left;
    max-width: 800px;
}

/* Professional responsive typography */
@media (max-width: 1024px) {
    .hero-text-content .h1 {
        font-size: var(--font-6xl);
        line-height: 1.25;
    }

    .hero-secondary-text {
        font-size: var(--font-md);
        line-height: 1.7;
        max-width: 700px;
    }
}

@media (max-width: 768px) {
    .hero-text-content {
        padding-top: var(--space-lg);
    }

    .hero-text-content .h1 {
        font-size: var(--font-5xl);
        line-height: 1.3;
        text-align: left;
    }

    .hero-subheading-section {
        padding: var(--space-2xl) 0 var(--space-lg) 0;
    }

    .hero-secondary-text {
        font-size: var(--font-base);
        line-height: 1.6;
        max-width: 600px;
        margin-top: var(--space-sm);
    }
}

@media (max-width: 480px) {
    .hero-text-content .h1 {
        font-size: 1.875rem; /* 30px - professional mobile standard, less overwhelming */
        line-height: 1.35;
        letter-spacing: -0.01em;
    }

    .hero-secondary-text {
        font-size: var(--font-sm);
        line-height: 1.5;
        max-width: 500px;
    }

    .hero-subheading-section {
        padding: var(--space-xl) 0 var(--space-md) 0;
    }
}

/* =========================
   PIXELFLOW STYLE SECTION
========================= */
.pixelflow-section {
    padding: 6rem 0 13rem 0; /* Reduced top padding from 8rem to 6rem for better visual balance with bottom */
    background: var(--pure-white);
    position: relative;
    overflow: hidden;
}

.pixelflow-content {
    text-align: center;
    max-width: 1200px;
    margin: 0 auto;
    position: relative; /* Restored to provide positioning context for widgets */
    z-index: 2;
}

/* Glass Morphism Widgets - Positioned directly in hero for free parallax movement */
.glass-widget {
    position: absolute;
    padding: 8px 12px;
    border-radius: 3px; /* Clean, minimal radius */
    background: rgba(255, 255, 255, 0.06); /* Very subtle */
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04); /* Subtle shadow */
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    max-width: 160px;
    will-change: transform; /* GPU optimization for scroll */
    transform-style: preserve-3d; /* Better GPU acceleration */
    opacity: 1; /* Final opacity set directly, no animation conflict */
    z-index: 1; /* Behind content but visible */
    pointer-events: none; /* Don't interfere with text selection */
}

.glass-widget-text {
    font-size: 12px;
    font-weight: 500; /* Less bold to compete less with CTA */
    color: var(--medium-dark); /* Slightly less contrast */
    line-height: 1.2;
    white-space: nowrap;
}

.glass-widget-1 {
    top: 20px; /* From top of section */
    left: 50px; /* From left side */
}

.glass-widget-2 {
    top: 120px; /* Middle area of text */
    right: 50px; /* From right side */
}

.glass-widget-3 {
    top: 38%; /* In the gap between text lines */
    left: 1%;
    --rotation: -2deg;
}

.glass-widget-4 {
    top: 40%; /* Slightly offset from left for visual interest */
    right: 1%;
    --rotation: 3deg;
}

.glass-widget-5 {
    top: 220px; /* Below text area */
    left: 100px; /* Offset from left */
}


@keyframes fadeIn {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
        /* Removed transform to avoid conflict with scroll animation */
    }
}

/* Main Headline */
.pixelflow-headline {
    font-size: clamp(2.25rem, 4.5vw, 3.25rem); /* Increased to 36-52px for better balance with hero */
    font-weight: 700;
    line-height: 1.2;
    color: var(--darkest);
    margin: 0 0 var(--space-lg) 0;
    letter-spacing: -0.02em;
    text-align: center;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: none;
}

/* Text Grouping */
.pixelflow-text-group {
    margin-bottom: var(--space-3xl);
}


/* Supporting Subtext */
.pixelflow-subtext {
    font-size: clamp(1.125rem, 3vw, 1.5rem); /* Increased from 20px to 24px max for better conversion */
    font-weight: 500; /* Slightly bolder for prominence */
    line-height: 1.4;
    color: var(--medium-dark);
    margin: var(--space-lg) 0 0 0; /* More space above */
    text-align: center;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

/* Inline Icons */
.inline-icon {
    width: 1.1em;
    height: 1.1em;
    display: inline-block;
    vertical-align: middle;
    margin: 0 0.1em;
    object-fit: contain;
}

/* Icon Text Styling */
.icon-text {
    font-weight: 700;
    color: var(--darkest);
}

/* Problem Section Styling */
.problem-section {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: var(--space-2xl) 0 var(--space-4xl) 0;
    position: relative;
}

/* Divider Line (matches nav-container at all breakpoints) */
.problem-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 2 * var(--space-xl));
    max-width: calc(1200px - 2 * var(--space-xl));
    height: 2px;
    background: var(--light);
}

/* Large screens - match 1600px nav-container */
@media (min-width: 1440px) {
    .problem-section::before {
        width: calc(100vw - 2 * var(--space-xl));
        max-width: calc(1600px - 2 * var(--space-xl));
    }
}

/* Desktop - match fluid nav-container */
@media (min-width: 1024px) and (max-width: 1439.98px) {
    .problem-section::before {
        width: calc(100vw - 4rem - 2 * var(--space-xl));
        max-width: none;
    }
}

/* Tablet - match fluid nav-container */
@media (min-width: 810px) and (max-width: 1023.98px) {
    .problem-section::before {
        width: calc(100vw - 4rem - 2 * var(--space-xl));
        max-width: none;
    }
}

/* Mobile - match smaller padding */
@media (max-width: 809.98px) {
    .problem-section::before {
        width: calc(100vw - 2rem - 2 * var(--space-md));
        max-width: none;
    }
}

.problem-header {
    text-align: left;
    margin-bottom: var(--space-4xl);
}

.problem-headline {
    font-size: clamp(2rem, 4vw, 2.75rem);
    font-weight: 700;
    line-height: 1.3;
    color: var(--darkest);
    margin-bottom: var(--space-md);
}

.problem-subtext {
    font-size: clamp(1rem, 2vw, 1.125rem);
    color: var(--medium-dark);
    max-width: 500px;
    line-height: 1.5;
}

/* Professional Problem Cards (ASCII Frame Style) */
.problem-cards-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--space-xl);
    margin-bottom: var(--space-4xl);
}

.problem-card {
    flex: 1 1 340px;
    max-width: 400px;
    position: relative;
    background: transparent;
    color: var(--darkest);
    padding: var(--space-2xl);
    border: 1px solid var(--medium-dark);
    min-height: 420px;
    transition: all 0.3s ease;
    overflow: visible;
}

/* ASCII Frame with + corners exactly like reference */
.problem-card::before {
    content: '+';
    position: absolute;
    top: -6px;
    left: -6px;
    background: var(--pure-white);
    color: var(--darkest);
    font-size: 12px;
    font-weight: 400;
    width: 12px;
    height: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
}

.problem-card::after {
    content: '+';
    position: absolute;
    top: -6px;
    right: -6px;
    background: var(--pure-white);
    color: var(--darkest);
    font-size: 12px;
    font-weight: 400;
    width: 12px;
    height: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
}

/* Bottom corners */
.problem-card:hover::before,
.problem-card:hover::after {
    transform: scale(1.1);
}

.card-number {
    position: absolute;
    top: -30px;
    left: -30px;
    font-size: 10rem;
    font-weight: 900;
    color: var(--darkest);
    line-height: 1;
    opacity: 0.15;
    z-index: 1;
    pointer-events: none;
}

.card-content {
    margin-left: var(--space-lg);
    margin-top: 220px;
    margin-bottom: var(--space-xl);
    padding-right: var(--space-md);
}

.card-title {
    font-size: var(--font-xl);
    font-weight: 700;
    color: var(--darkest);
    margin: 0 0 var(--space-lg) 0;
    line-height: 1.4;
    letter-spacing: 0.02em;
}

.card-description {
    font-size: var(--font-lg);
    color: var(--medium-dark);
    line-height: 1.6;
    margin: 0;
}

.card-impact {
    position: absolute;
    bottom: var(--space-md);
    right: var(--space-md);
    font-size: var(--font-sm);
    font-weight: 600;
    color: var(--medium-dark);
    text-align: right;
    line-height: 1.2;
}

.problem-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(33, 37, 41, 0.1);
    border-color: var(--darkest);
}

.problem-card:hover .card-number {
    opacity: 1;
}

.problem-card:hover .card-impact {
    color: var(--darkest);
}

/* Problem Amplification */
.problem-amplification {
    text-align: center;
    margin-bottom: var(--space-2xl); /* Match divider-to-header spacing (3rem = 48px) */
}

.amplification-text {
    font-size: clamp(1rem, 2vw, 1.125rem); /* Match problem-subtext for consistency */
    color: var(--medium-dark);
    margin-bottom: var(--space-md);
}

.amplification-emphasis {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--darkest);
    line-height: 1.4;
    margin-bottom: var(--space-md);
}

.amplification-closer {
    font-size: clamp(1rem, 2vw, 1.125rem); /* Match problem-subtext for consistency */
    color: var(--medium-dark);
}

/* Problem Bridge */
.problem-bridge {
    text-align: center;
    margin-bottom: var(--space-2xl); /* Match divider-to-header spacing (3rem = 48px) */
}

.bridge-text {
    font-size: 1.25rem; /* 20px - stronger mobile presence */
    font-style: italic;
    color: var(--medium-dark);
    margin: 0; /* Remove internal margins - spacing controlled by parent */
}

@media (min-width: 768px) {
    .bridge-text {
        font-size: 1.5rem; /* 24px - desktop prominence */
        margin: 0; /* Spacing controlled by parent .problem-bridge */
    }
}

.bridge-cta {
    display: inline-block;
    padding: var(--space-md) var(--space-xl);
    background: transparent;
    border: 2px solid var(--darkest);
    color: var(--darkest);
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.bridge-cta:hover {
    background: var(--darkest);
    color: white;
    transform: translateY(-2px);
}

/* Divider line width removed - using consistent 1200px from base rule to match navigation */

/* Tablet Responsive - Increase title sizes and adjust spacing */
@media (max-width: 774px) and (min-width: 481px) {
    .card-title {
        font-size: var(--font-2xl);
        margin-bottom: var(--space-md);
    }

    .card-description {
        font-size: var(--font-xl);
    }

    .problem-cards-container {
        flex-direction: column;
        align-items: center;
    }

    .problem-card {
        width: 100%;
        max-width: 300px; /* Reduced from 360px to prevent breaking at 481-775px */
        padding: var(--space-xl); /* Reduce from 32px to 24px to fit content */
        min-height: 380px; /* Reduce from 420px to accommodate smaller card */
    }

    .card-content {
        margin-top: 150px; /* Reduce from 220px to fit 300px card */
        margin-left: var(--space-md); /* Also reduce side margin */
    }

    .card-title {
        font-size: var(--font-base); /* Same as mobile for compact display */
    }

    .card-description {
        font-size: var(--font-sm); /* Same as mobile for compact display */
    }
}

/* Mobile Responsive */
@media (max-width: 480px) {
    .problem-headline {
        font-size: 1.875rem; /* Uniform section headline size (30px) for simplicity */
    }

    .problem-cards-container {
        flex-direction: column;
        gap: var(--space-lg);
        align-items: center;
    }

    .problem-card {
        min-height: 350px;
        padding: var(--space-xl);
        width: 100%;
        max-width: 280px; /* Reduced from 320px to accommodate 01/02/03 numbers within nav width */
    }

    .card-number {
        font-size: 6rem;
        top: -20px;
        left: -20px;
        opacity: 0.1;
    }

    .card-content {
        margin-left: var(--space-md);
        margin-top: 160px;
    }

    .card-title {
        font-size: var(--font-base);
    }

    .card-description {
        font-size: var(--font-sm);
    }

    .card-impact {
        font-size: var(--font-xs);
        bottom: var(--space-sm);
        right: var(--space-sm);
    }
}

/* CTA Button */
.pixelflow-cta {
    margin-top: var(--space-3xl);
}

/* Interactive Hover Button - Professional Implementation */
.interactive-hover-button {
    position: relative;
    display: inline-block;
    width: 380px;
    height: 56px;
    cursor: pointer;
    overflow: hidden;
    border-radius: 50px;
    border: 2px solid var(--light);
    background: var(--pure-white);
    text-decoration: none;
    font-weight: 600;
    font-size: var(--font-lg);
    line-height: 1.2;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    -webkit-font-smoothing: antialiased;
}

.button-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--darkest);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 4;
    white-space: nowrap;
    line-height: 1;
    font-size: var(--font-lg);
}

.hover-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) translateX(60px) translateY(1px);
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--pure-white);
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 5;
    white-space: nowrap;
    line-height: 1;
    font-size: var(--font-lg);
}

.arrow-icon {
    width: 16px;
    height: 16px;
    stroke: currentColor;
    stroke-width: 2;
}

.button-background {
    position: absolute;
    left: 24px;
    top: calc(50% - 5px);
    width: 10px;
    height: 10px;
    background: var(--darkest);
    border-radius: 50%;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center center;
    z-index: 1;
}

.interactive-hover-button:hover .button-text {
    transform: translate(-50%, -50%) translateX(-60px);
    opacity: 0;
}

.interactive-hover-button:hover .hover-content {
    transform: translate(-50%, -50%) translateX(0);
    opacity: 1;
}

.interactive-hover-button:hover .button-background {
    left: -2px;
    top: -2px;
    width: calc(100% + 4px);
    height: calc(100% + 4px);
    transform: scale(1);
    border-radius: 50px;
}

/* Solution Section - Void-Inspired Dark Premium 2025 */
.solution-section {
    background: #0A0A0A !important;
    padding: 120px 0;
    position: relative;
    overflow: hidden;
}

/* Subtle noise texture overlay */
.solution-section::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
        radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.003) 0%, transparent 25%),
        radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.002) 0%, transparent 25%);
    pointer-events: none;
}

/* Subtle connecting line - dark theme */
.flow-connection {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 1px;
    height: 80px;
    background: rgba(255, 255, 255, 0.1);
}

.solution-header {
    text-align: center;
    margin-bottom: 60px;
    position: relative;
    margin: 0 auto 60px auto;
    max-width: 600px; /* Reduced for better mobile wrapping */
    padding: 0 24px;
}

.solution-headline {
    font-size: clamp(2rem, 4vw, 2.75rem); /* Match problem-headline for consistent hierarchy */
    font-weight: 700;
    line-height: 1.05;
    color: #FFFFFF;
    margin-bottom: 24px;
    letter-spacing: -0.03em;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background: linear-gradient(135deg, #FFFFFF 0%, rgba(255, 255, 255, 0.8) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Solution Steps - Horizontal Rows with Big Numbers */
.solution-steps-container {
    display: flex;
    flex-direction: column;
    max-width: 900px;
    margin: 0 auto;
}

.solution-step-row {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 48px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    overflow: visible;
    min-height: 180px;
}

.solution-step-row:last-child {
    border-bottom: none;
}

.solution-step-number {
    position: absolute;
    top: -10px;
    left: 0;
    font-size: 10rem;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.1);
    line-height: 1;
    pointer-events: none;
    z-index: 1;
}

.solution-step-content {
    position: relative;
    z-index: 2;
    width: 100%;
    display: flex;
    justify-content: flex-start;
    margin-top: 40px;
    padding-left: 60px;
}

.solution-step-text-wrapper {
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-width: 600px;
    text-align: left;
}

.solution-step-title {
    font-size: 2rem;
    font-weight: 600;
    color: #FFFFFF;
    line-height: 1.2;
}

.solution-step-description {
    font-size: var(--font-lg);
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.5;
}

/* Solution Steps Responsive - Tablet */
@media (max-width: 1024px) {
    .solution-step-row {
        padding: 40px 0;
        min-height: 160px;
    }

    .solution-step-number {
        font-size: 8rem;
        top: -8px;
    }

    .solution-step-content {
        margin-top: 70px;
    }

    .solution-step-title {
        font-size: 1.75rem;
    }
}

/* Solution Steps Responsive - Mobile */
@media (max-width: 768px) {
    .solution-steps-container {
        max-width: 100%;
    }

    .solution-step-row {
        padding: 32px 0;
        min-height: 140px;
        align-items: flex-start;
    }

    .solution-step-number {
        font-size: 6rem;
        top: 0;
        left: 0;
        transform: none;
    }

    .solution-step-content {
        margin-top: 0;
        padding-left: 50px;
        justify-content: flex-start;
    }

    .solution-step-text-wrapper {
        text-align: left;
        max-width: 100%;
    }

    .solution-step-title {
        font-size: var(--font-xl);
    }

    .solution-step-description {
        font-size: var(--font-base);
    }
}

.solution-subtext {
    font-size: 18px;
    color: rgba(255, 255, 255, 0.6);
    max-width: 500px;
    margin: 0;
    line-height: 1.5;
    font-weight: 400;
}

/* Asymmetric dark layout with void visual */
.visual-storytelling-container {
    max-width: calc(1200px - 2 * var(--space-xl)); /* Match nav border width */
    margin: 0 auto;
    padding: 0; /* Padding handled by max-width calc */
    position: relative;
    display: grid;
    grid-template-columns: 40% 60%;
    gap: 80px;
    align-items: start;
}

/* Void animation container */
.void-visual-container {
    position: relative;
    height: 600px; /* Increased from 500px for larger graphic */
    transform: translateX(-20%);
    grid-column: 1;
}

/* Process content area */
.process-content-area {
    grid-column: 2;
    padding-top: 0;
}

/* Compact timeline system */
.process-timeline {
    display: flex;
    flex-direction: column;
    gap: 40px;
    position: relative;
}

.process-timeline::before {
    content: '';
    position: absolute;
    left: 12px;
    top: 30px;
    bottom: 30px;
    width: 1px;
    background: linear-gradient(180deg,
        rgba(255, 184, 77, 0.8) 0%,
        rgba(255, 184, 77, 0.3) 50%,
        rgba(255, 184, 77, 0.8) 100%);
}

.process-step {
    display: flex;
    align-items: flex-start;
    gap: 24px;
    position: relative;
    padding: 16px 0;
}

/* Timeline step indicator */
.step-indicator {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #FFB84D;
    border: 3px solid #0A0A0A;
    position: relative;
    z-index: 2;
    flex-shrink: 0;
    margin-top: 4px;
}

.step-content {
    flex: 1;
}

/* Three.js Professional Void Canvas */
.void-canvas {
    position: absolute;
    width: 500px; /* Increased from 400px */
    height: 500px; /* Increased from 400px */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border-radius: 8px;
    overflow: hidden;
}

#voidCanvas {
    width: 100%;
    height: 100%;
    display: block;
}

.step-number {
    font-size: 12px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.5);
    letter-spacing: 0.2em;
    margin-bottom: 8px;
    text-transform: uppercase;
    font-family: 'Inter', monospace;
}

.step-title {
    font-size: 24px;
    font-weight: 700;
    color: #FFFFFF;
    margin-bottom: 12px;
    line-height: 1.2;
    letter-spacing: -0.01em;
    display: flex;
    align-items: flex-start;
    gap: 8px;
}

.step-icon {
    width: 20px;
    height: 20px;
    color: #FFB84D;
    margin-top: 2px;
}

.step-description {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.5;
    margin-bottom: 16px;
    font-weight: 400;
}

.step-details {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.5);
    margin-top: 12px;
}

.step-detail-item {
    background: rgba(255, 184, 77, 0.1);
    border: 1px solid rgba(255, 184, 77, 0.2);
    border-radius: 12px;
    padding: 4px 12px;
    font-weight: 400;
    font-size: 13px;
    white-space: nowrap;
}

/* Clean guarantee box */
.guarantee-section {
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 24px;
    padding: 48px;
    margin-top: 80px;
    text-align: center;
    position: relative;
}

.guarantee-title {
    font-size: 28px;
    font-weight: 700;
    color: #FFFFFF;
    margin-bottom: 20px;
    letter-spacing: -0.01em;
}

.guarantee-text {
    font-size: 18px;
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.6;
    margin-bottom: 32px;
    max-width: 560px;
    margin-left: auto;
    margin-right: auto;
}

.guarantee-paths {
    display: flex;
    gap: 16px;
    justify-content: center;
    margin-bottom: 32px;
    flex-wrap: wrap;
}

.guarantee-path {
    background: #FFFFFF;
    border: 1px solid #E5E5EA;
    border-radius: 12px;
    padding: 12px 24px;
    font-weight: 500;
    color: #1C1C1E;
    font-size: 16px;
    transition: all 0.2s ease;
}

.guarantee-path:hover {
    border-color: #FFB84D;
    box-shadow: 0 4px 12px rgba(255, 184, 77, 0.15);
}

.guarantee-cta {
    margin-top: 24px;
}

.guarantee-button {
    background: transparent;
    color: #FFFFFF;
    border: 2px solid rgba(255, 255, 255, 0.2);
    padding: 16px 32px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 17px;
    text-decoration: none;
    display: inline-block;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.guarantee-button:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(255, 255, 255, 0.1);
}

/* Mobile responsive design for asymmetric void layout (must come BEFORE width constraints) */
@media (max-width: 1200px) {
    .visual-storytelling-container {
        grid-template-columns: 45% 55%;
        gap: 60px;
    }
    .void-canvas {
        width: 450px; /* Increased from 350px */
        height: 450px;
    }
}

/* Responsive design for visual storytelling section - match nav border width (must come AFTER layout changes) */
@media (min-width: 1440px) {
    .visual-storytelling-container {
        max-width: calc(1600px - 2 * var(--space-xl)); /* Match nav responsive width */
    }
}

@media (min-width: 1024px) and (max-width: 1439.98px) {
    .visual-storytelling-container {
        max-width: calc(100vw - 4rem - 2 * var(--space-xl)); /* Match nav fluid width */
    }
}

@media (min-width: 810px) and (max-width: 1023.98px) {
    .visual-storytelling-container {
        max-width: calc(100vw - 4rem - 2 * var(--space-xl)); /* Match nav fluid width */
    }
}

@media (max-width: 809px) {
    .visual-storytelling-container {
        max-width: calc(100vw - 2rem - 2 * var(--space-md)); /* Match nav & problem section exactly */
    }
}

@media (max-width: 1024px) {
    .visual-storytelling-container {
        grid-template-columns: 1fr;
        gap: 40px;
    }
    .void-visual-container {
        height: 450px; /* Increased from 350px for larger graphic */
        transform: translateX(0);
        order: 1;
        margin: 0 auto;
    }
    .void-canvas {
        width: 400px; /* Increased from 280px */
        height: 400px;
    }
    .process-content-area {
        order: 2;
    }
    .content-storytelling {
        text-align: center;
    }
    .pixelflow-headline {
        text-align: center;
        margin-bottom: 32px;
    }
    .process-timeline {
        justify-content: center;
    }
    .process-step {
        gap: 60px;
        margin-bottom: 40px;
    }
    .step-visual {
        height: 200px;
    }
}

@media (max-width: 768px) {
    .solution-section {
        padding: 80px 0;
    }

    .visual-storytelling-container {
        gap: 32px;
    }

    .void-visual-container {
        height: 360px; /* Increased from 300px */
    }

    .void-canvas {
        width: 340px; /* Increased from 280px */
        height: 340px;
    }

    .process-step {
        display: block;
        margin-bottom: 32px;
    }

    .step-number {
        writing-mode: horizontal-tb;
        text-orientation: mixed;
        height: auto;
        display: block;
        text-align: center;
        margin-bottom: 16px;
    }

    .step-content {
        text-align: center;
        margin-bottom: 24px;
    }

    .step-visual {
        height: 160px;
        margin: 0 auto;
        max-width: 200px;
    }

    .process-step:not(:last-child)::after {
        display: none;
    }

    .process-timeline {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 24px;
    }

    .guarantee-section {
        padding: 32px 24px;
    }

    .guarantee-paths {
        flex-direction: column;
        align-items: center;
    }

    .solution-headline {
        font-size: 2.5rem;
    }
}

@media (max-width: 480px) {
    .solution-section {
        padding: 40px 0; /* Reduced from 60px for more graphic space */
    }

    .void-visual-container {
        height: 340px; /* Increased from 240px */
    }

    .void-canvas {
        width: 320px; /* Increased from 220px */
        height: 320px;
    }

    .solution-headline {
        font-size: 1.875rem;
        line-height: 1.2;
        margin-bottom: 24px;
    }
}

/* Very small mobile - extra breathing room */
@media (max-width: 400px) {
    /* Width constraints handled by responsive breakpoints above */
}

/* Sticky CTA Button - Apple/Vercel Level Polish */
.sticky-cta {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 1000;
    opacity: 0;
    transform: translateX(100px) translateY(10px);
    transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    will-change: transform, opacity;

    /* Apply glass effect to the SAME element that has transforms */
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50px;

    /* Shadow for depth */
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.08),
        0 1px 2px rgba(0, 0, 0, 0.12);
}

.sticky-cta.visible {
    opacity: 1;
    transform: translateX(0) translateY(0);
}

.sticky-cta:hover {
    /* Enhance glass effect on container hover */
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transform: translateX(0) translateY(-2px);

    /* Enhanced shadow on hover */
    box-shadow:
        0 12px 40px rgba(0, 0, 0, 0.12),
        0 2px 8px rgba(0, 0, 0, 0.16);
}

.sticky-cta-button {
    position: relative;
    display: inline-block;
    width: 280px;
    height: 48px; /* Reduced from 56px to appear less fat */
    cursor: pointer;
    border-radius: 50px;

    /* NO glass effect here - container handles it */
    background: transparent;
    border: none;

    /* NO backdrop-filter on child elements */
    /* NO isolation: isolate to avoid conflicts */
    /* NO shadow - container provides depth */

    text-decoration: none;

    /* Remove browser focus outline (blue border) */
    outline: none;
    -webkit-tap-highlight-color: transparent;

    /* Text styling matching main CTA button */
    font-size: var(--font-lg); /* Same as main CTA button */
    font-weight: 400;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    -webkit-font-smoothing: antialiased;
}

.sticky-cta-button:hover {
    /* NO background/border on button - keeps it transparent */
    /* Container handles all visual effects */
}

.sticky-button-text {
    position: absolute;
    top: 54%; /* More adjustment to get true visual center */
    left: 50%;
    transform: translate(-50%, -50%);

    /* Text color - lighter on unhover (nav hover color) */
    color: var(--medium-dark); /* Lighter grey initially */

    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 4;
    white-space: nowrap;
    line-height: 1;

    /* Fine-tune vertical alignment */
    margin-top: 2px; /* Increased optical adjustment */
}

.sticky-cta-button:hover .sticky-button-text {
    /* Text color - darker on hover (nav normal color) */
    color: var(--darkest); /* Full black on hover */
    /* NO translateY on hover - keep same position as non-hover */
    transform: translate(-50%, -50%);
}

/* Responsive Design */
@media (max-width: 1024px) {
    .pixelflow-headline {
        font-size: var(--font-4xl);
        line-height: 1.25;
        margin-bottom: 0;
    }
    .pixelflow-subtext {
        font-size: 1.2rem; /* Increased for better readability on tablets */
        max-width: 600px;
        line-height: 1.3;
    }
    .glass-widget {
        max-width: 160px;
        padding: 8px 12px;
    }
    .glass-widget-text {
        font-size: 11px;
    }
}

@media (max-width: 768px) {
    .glass-widget {
        max-width: 140px;
        padding: 6px 10px;
        font-size: 10px;
        position: absolute; /* Absolute positioning - moves with content */
    }
    .glass-widget-text {
        font-size: 10px;
        font-weight: 500;
        line-height: 1.1;
    }
    .glass-widget-1 {
        top: 15px !important; /* Closer to top on tablet */
        left: 30px !important; /* Slight inset from edge */
    }
    .glass-widget-2 {
        top: 100px !important; /* Middle area */
        right: 30px !important; /* Slight inset from edge */
    }
    .glass-widget-5 {
        display: none !important; /* Hide "Convert while hot" on tablet for clean design */
    }
}

@media (max-width: 480px) {
    .pixelflow-headline {
        font-size: 1.875rem; /* Uniform section headline size (30px) for simplicity */
        line-height: 1.2;
    }
    .pixelflow-subtext {
        font-size: 1.1rem; /* Larger subtext too */
    }
    .interactive-hover-button {
        width: calc(100vw - 4rem); /* Responsive width with 2rem margin on each side */
        max-width: 320px; /* Maximum width to prevent it from getting too large on small tablets */
        font-size: var(--font-base); /* Slightly smaller text on very small screens */
    }

    /* Sticky CTA mobile responsive */
    .sticky-cta {
        bottom: 16px;
        right: 16px;
    }
    .sticky-cta-button {
        width: 240px; /* Smaller on mobile */
        font-size: var(--font-sm);
        backdrop-filter: blur(12px); /* Consistent glass effect on mobile */
        -webkit-backdrop-filter: blur(12px);
    }

    .glass-widget {
        max-width: 120px;
        padding: 5px 8px;
        border-radius: 2px; /* Sharp edges on small mobile */
    }
    .glass-widget-text {
        font-size: 9px;
        line-height: 1.0;
    }
    .glass-widget-1 {
        top: 10px !important; /* Close to top on mobile */
        left: 20px !important; /* Small left offset */
    }
    .glass-widget-2 {
        top: 80px !important; /* Middle area on mobile */
        right: 20px !important; /* Small right offset */
    }
    .glass-widget-5 {
        top: 160px !important; /* Below text on mobile */
        left: 50% !important; /* Centered horizontally */
        margin-left: -80px !important; /* Half widget width for centering */
        display: block !important; /* Show widget-5 on mobile */
    }
}

.growth-section {
    padding: var(--space-5xl) 0;
    background: var(--pure-white);
}

.growth-content {
    text-align: center;
    max-width: 900px;
    margin: 0 auto;
    position: relative;
}

.growth-heading-wrapper {
    position: relative;
    margin-bottom: var(--space-3xl);
}

.growth-images {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
}

.growth-image {
    position: absolute;
    width: 60px;
    height: 60px;
    border-radius: 12px;
    background: var(--light);
    opacity: 0.7;
    animation: float 6s ease-in-out infinite;
}

.growth-image-1 {
    top: 20%;
    left: 10%;
    animation-delay: 0s;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.growth-image-2 {
    top: 10%;
    right: 15%;
    animation-delay: 1.5s;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.growth-image-3 {
    bottom: 30%;
    left: 5%;
    animation-delay: 3s;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.growth-image-4 {
    bottom: 20%;
    right: 10%;
    animation-delay: 4.5s;
    background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

@keyframes float {
    0%, 100% {
        transform: translateY(0px) rotate(0deg);
    }
    50% {
        transform: translateY(-20px) rotate(5deg);
    }
}

.growth-heading {
    font-size: var(--font-5xl);
    font-weight: 600;
    line-height: 1.2;
    color: var(--darkest);
    margin: 0;
}

.animated-text {
    position: relative;
    display: inline-block;
    color: var(--darkest);
}

.text-option {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.5s ease;
    white-space: nowrap;
}

.text-option.active {
    opacity: 1;
    transform: translateY(0);
    position: relative;
}

.growth-subtitle {
    font-size: var(--font-xl);
    color: var(--medium-dark);
    margin-bottom: var(--space-3xl);
    line-height: 1.6;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}
.growth-cta {
    margin-top: var(--space-2xl);
}
.growth-trust-text {
    color: var(--medium-dark);
    font-size: var(--font-base);
    margin-top: var(--space-lg);
    font-weight: 500;
}

/* =========================
   MARQUEE SECTION (PIXELFLOW STYLE)
========================= */
.section.marquee {
    padding: var(--space-4xl) 0;
    background: var(--very-light);
}

.container.marquee {
    max-width: 100vw;
    margin: 0;
    padding: 0;
    overflow: hidden;
}

.marquee-title {
    text-align: center;
    font-size: var(--font-sm);
    color: var(--medium-dark);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--space-xl);
}

.marquee-wrapper {
    overflow: hidden;
    position: relative;
    width: 100%;
}

.marquee-content {
    display: flex;
    animation: marqueeScroll 20s linear infinite;
    width: fit-content;
    gap: var(--space-3xl);
}

.marquee-content-wrapper {
    display: flex;
    gap: var(--space-3xl);
}

.marquee-block {
    width: 240px;
    height: 100px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--lightest);
}

.marquee-block img {
    width: 180px;
    height: 70px;
    object-fit: contain;
}

/* Mobile responsive marquee */
@media (max-width: 768px) {
    .marquee-block {
        width: 180px;
        height: 80px;
    }

    .marquee-block img {
        width: 140px;
        height: 55px;
    }

    .marquee-content-wrapper {
        gap: var(--space-xl);
    }
}

@media (max-width: 480px) {
    .marquee-block {
        width: 160px;
        height: 70px;
    }

    .marquee-block img {
        width: 120px;
        height: 45px;
    }

    .marquee-content-wrapper {
        gap: var(--space-lg);
    }
}

@keyframes marqueeScroll {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-50%);
    }
}

/* =========================
   PLACEHOLDER CONTENT
========================= */
.placeholder-hero {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
}

.placeholder-section {
    background: var(--pure-white);
    border: 1px solid var(--light);
    border-radius: 12px;
    padding: var(--space-2xl);
    text-align: center;
    color: var(--medium-dark);
}



@layer base {
  :root {
        --background: 0 0% 100%;
        --foreground: 0 0% 3.9%;
        --card: 0 0% 100%;
        --card-foreground: 0 0% 3.9%;
        --popover: 0 0% 100%;
        --popover-foreground: 0 0% 3.9%;
        --primary: 0 0% 9%;
        --primary-foreground: 0 0% 98%;
        --secondary: 0 0% 96.1%;
        --secondary-foreground: 0 0% 9%;
        --muted: 0 0% 96.1%;
        --muted-foreground: 0 0% 45.1%;
        --accent: 0 0% 96.1%;
        --accent-foreground: 0 0% 9%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 0 0% 98%;
        --border: 0 0% 89.8%;
        --input: 0 0% 89.8%;
        --ring: 0 0% 3.9%;
        --chart-1: 12 76% 61%;
        --chart-2: 173 58% 39%;
        --chart-3: 197 37% 24%;
        --chart-4: 43 74% 66%;
        --chart-5: 27 87% 67%;
        --radius: 0.5rem;
    }
  .dark {
        --background: 0 0% 3.9%;
        --foreground: 0 0% 98%;
        --card: 0 0% 3.9%;
        --card-foreground: 0 0% 98%;
        --popover: 0 0% 3.9%;
        --popover-foreground: 0 0% 98%;
        --primary: 0 0% 98%;
        --primary-foreground: 0 0% 9%;
        --secondary: 0 0% 14.9%;
        --secondary-foreground: 0 0% 98%;
        --muted: 0 0% 14.9%;
        --muted-foreground: 0 0% 63.9%;
        --accent: 0 0% 14.9%;
        --accent-foreground: 0 0% 98%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 0 0% 98%;
        --border: 0 0% 14.9%;
        --input: 0 0% 14.9%;
        --ring: 0 0% 83.1%;
        --chart-1: 220 70% 50%;
        --chart-2: 160 60% 45%;
        --chart-3: 30 80% 55%;
        --chart-4: 280 65% 60%;
        --chart-5: 340 75% 55%;
    }
}



@layer base {
  * {
    @apply border-border;
    }
  body {
    @apply bg-background text-foreground;
    }
}

/* =========================
   CAPABILITIES SECTION (Professional Light Design)
========================= */
.capabilities-section {
    padding: var(--space-5xl) 0; /* STANDARD: 128px top/bottom - top spacing was CORRECT */
    background: #F7F7F8; /* Professional light gray background */
    position: relative;
    /* overflow-x: hidden; - REMOVED: breaks sticky positioning for child elements */
}

.capabilities-container {
    /* MATCH nav-container exactly - same as Silent Killers section */
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-xl);
    position: relative; /* For pseudo-element positioning */
    z-index: 1; /* Above grid background */

    /* Vertical Grid Background - Equal 80px spacing constrained to container */
    background-image: repeating-linear-gradient(
        90deg,
        transparent 0px,
        transparent 79px,
        rgba(3, 6, 23, 0.04) 79px,
        rgba(3, 6, 23, 0.04) 80px
    );
    background-size: 80px 100%;
    mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        black 8%,
        black 100%
    );
    -webkit-mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        black 8%,
        black 100%
    );
}

/* Left vertical line - EXACT nav border alignment with fade */
.capabilities-container::before {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: var(--space-xl); /* Same as nav border */
    width: 1px;
    background: rgba(33, 37, 41, 0.1); /* Same color as nav border */
    mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        black 8%,
        black 100%
    );
    -webkit-mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        black 8%,
        black 100%
    );
    pointer-events: none;
    z-index: 1;
}

/* Right vertical line - EXACT nav border alignment with fade */
.capabilities-container::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    right: var(--space-xl); /* Same as nav border */
    width: 1px;
    background: rgba(33, 37, 41, 0.1); /* Same color as nav border */
    mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        black 8%,
        black 100%
    );
    -webkit-mask-image: linear-gradient(
        to bottom,
        transparent 0%,
        black 8%,
        black 100%
    );
    pointer-events: none;
    z-index: 1;
}

.capabilities-intro {
    /* Professional readable intro text */
    font-size: clamp(1.5rem, 3vw, 2rem); /* Bigger but not hero-size */
    line-height: 1.5; /* Adjusted for larger text */
    color: #2d3748; /* Dark gray for good contrast on light bg */
    font-weight: 500; /* Medium weight */
    letter-spacing: -0.01em; /* Slightly tight, modern */
    margin-bottom: 8rem; /* BALANCED SPACING: 128px matches top section padding perfectly */
    max-width: 900px; /* Comfortable reading width */
}

/* Cards Wrapper - Sticky Viewport Container */
.capabilities-cards-wrapper {
    position: relative;
    width: 100%; /* CRITICAL: Fill parent container - prevent shrink-wrap */
    min-height: 600vh; /* INCREASED: 150vh per card = smoother scroll progression (was 500vh = 125vh/card too fast) */
    margin-top: 0; /* No gap - smooth flow from intro text */
}

.capabilities-cards {
    position: sticky;
    top: 250px; /* TRUE MIDDLE: Positions ~600px card center at 50% viewport (250px + 300px = 550px center) */
    height: 100vh;
    width: 100%; /* CRITICAL: Force full width, prevent flex shrink-wrap */
    display: flex;
    align-items: flex-start; /* START ALIGNMENT: card positioning controlled by sticky top value */
    justify-content: center;
    /* No padding-top - absolute positioned cards ignore parent padding */
    /* Cards fill full container content area (1200px - 64px = 1136px) */
    /* No max-width or margin - prevents double-centering */
}

/* Individual Capability Card - Nitro-Style JavaScript-Driven Parallax */
.capability-card {
    position: absolute;
    width: 100%; /* Fill parent (1136px = 1200px container - 64px padding) */
    will-change: transform; /* Optimize for JavaScript animations */
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 650px; /* TALLER: More presence and room for content */
    max-height: 800px; /* Increased height for better visual impact */
    /* Smooth sliding animation - MUST be on same element JavaScript animates */
    /* Only animate transform - opacity changes instantly per user requirement */
    transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Capability Card Content - Nitro 2025 Premium Design */
.capability-card-content {
    background: #FFFFFF;
    border: 1px solid rgba(0, 0, 0, 0.08); /* Visible border on light bg */
    border-radius: 0; /* Sharp corners - premium aesthetic */
    padding: 2rem; /* REDUCED: 32px tight spacing (was 64px, -50% reduction!) */
    width: 100%; /* Fill parent - matches total width of ALL 3 Silent Killers cards combined */
    height: 100%;
    min-height: 650px; /* TALLER: Matches outer card height for consistency */
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden; /* For gradient overlay */
    /* Apple-style clean shadows - light, professional, no flicker */
    box-shadow:
        0 20px 40px -10px rgba(0, 0, 0, 0.08),  /* Soft ambient */
        0 10px 20px -5px rgba(0, 0, 0, 0.12),   /* Mid depth */
        0 0 0 1px rgba(0, 0, 0, 0.05);          /* Crisp edge */
    /* NO box-shadow transition - prevents flickering during scroll */
    transition:
        border-color 0.4s cubic-bezier(0.16, 1, 0.3, 1),
        transform 0.6s cubic-bezier(0.16, 1, 0.3, 1),
        opacity 0.3s ease-out,
        backdrop-filter 0.4s cubic-bezier(0.4, 0, 0.2, 1),  /* SMOOTH SILK blur transition */
        background 0.4s cubic-bezier(0.4, 0, 0.2, 1);       /* SMOOTH SILK background fade */
}

/* Subtle gradient overlay - adds visual interest without overwhelming content */
.capability-card-content::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: radial-gradient(circle at 100% 0%, currentColor 0%, transparent 50%);
    opacity: 0.03; /* Very subtle - just enough to break up white space */
    pointer-events: none;
    z-index: 0;
}

/* Ensure content stays above gradient */
.capability-card-header,
.capability-card-tags {
    position: relative;
    z-index: 1;
}

/* Subtle hover interaction - Apple-style elevation lift */
.capability-card-content:hover {
    box-shadow:
        0 30px 60px -15px rgba(0, 0, 0, 0.12),  /* Slightly elevated */
        0 15px 30px -8px rgba(0, 0, 0, 0.15),   /* Enhanced depth */
        0 0 0 1px rgba(0, 0, 0, 0.08);          /* Stronger edge */
    border-color: rgba(0, 0, 0, 0.1);
    transform: translateY(-2px); /* Subtle lift on hover */
}

/* Hover enhances gradient slightly */
.capability-card-content:hover::before {
    opacity: 0.05;
}

/* Corner Bracket Decorations - 21st.dev Style */
.capability-card-corner {
    position: absolute;
    display: block;
    width: 8px;
    height: 8px;
    border-color: var(--darkest);
    z-index: 10;
    transition: opacity 0.3s ease-out;
}

/* Hide corner brackets on stacked cards - only show on front card for professional look */
.capability-card[data-depth]:not([data-depth="0"]) .capability-card-corner {
    opacity: 0;
}

/* Progressive blur levels - SMOOTH SILK TRANSITION (0  2px  4px  6px  8px) */

/* Blur entire card element - creates true frosted glass depth effect */
.capability-card[data-depth="1"] {
    filter: blur(2px); /* Light blur on entire first stacked card */
}

.capability-card[data-depth="2"] {
    filter: blur(4px); /* Medium blur on entire second depth card */
}

.capability-card[data-depth="3"] {
    filter: blur(6px); /* Strong blur on entire third depth card */
}

.capability-card[data-depth="4"],
.capability-card[data-depth]:not([data-depth="0"]):not([data-depth="1"]):not([data-depth="2"]):not([data-depth="3"]) {
    filter: blur(8px); /* Maximum blur on entire deepest cards */
}

/* Front card - Crystal clear (depth 0) */
.capability-card[data-depth="0"] .capability-card-content {
    backdrop-filter: none;
    background: #FFFFFF; /* Solid white, no transparency */
}

/* Stacked card - First depth (subtle blur start) */
.capability-card[data-depth="1"] .capability-card-content {
    border-color: rgba(0, 0, 0, 0.03);
    box-shadow:
        0 8px 16px -4px rgba(0, 0, 0, 0.04),
        0 4px 8px -2px rgba(0, 0, 0, 0.06),
        0 0 0 1px rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(2px); /* SUBTLE: Gentle blur start */
    background: rgba(247, 247, 248, 0.96); /* SOLID: Nearly opaque blocks all text bleed (was 0.65) */
    opacity: 0.99;
}

/* Second depth - Medium blur */
.capability-card[data-depth="2"] .capability-card-content {
    border-color: rgba(0, 0, 0, 0.025);
    box-shadow:
        0 6px 12px -4px rgba(0, 0, 0, 0.03),
        0 3px 6px -2px rgba(0, 0, 0, 0.05),
        0 0 0 1px rgba(0, 0, 0, 0.015);
    backdrop-filter: blur(4px); /* MEDIUM: Gradual progression */
    background: rgba(247, 247, 248, 0.98); /* SOLID: Almost opaque blocks all text bleed (was 0.80) */
    opacity: 0.985;
}

/* Third depth - Strong blur */
.capability-card[data-depth="3"] .capability-card-content {
    border-color: rgba(0, 0, 0, 0.02);
    box-shadow:
        0 5px 10px -3px rgba(0, 0, 0, 0.025),
        0 2px 5px -1px rgba(0, 0, 0, 0.04),
        0 0 0 1px rgba(0, 0, 0, 0.01);
    backdrop-filter: blur(6px); /* STRONG: Building depth */
    background: rgba(247, 247, 248, 0.99); /* SOLID: Nearly 100% opaque blocks all text bleed (was 0.90) */
    opacity: 0.98;
}

/* Fourth depth and beyond - Maximum blur */
.capability-card[data-depth="4"] .capability-card-content,
.capability-card[data-depth]:not([data-depth="0"]):not([data-depth="1"]):not([data-depth="2"]):not([data-depth="3"]) .capability-card-content {
    border-color: rgba(0, 0, 0, 0.02);
    box-shadow:
        0 4px 8px -3px rgba(0, 0, 0, 0.02),
        0 2px 4px -1px rgba(0, 0, 0, 0.03),
        0 0 0 1px rgba(0, 0, 0, 0.01);
    backdrop-filter: blur(8px); /* MAXIMUM: Deep stack blur */
    background: rgba(247, 247, 248, 1.0); /* SOLID: 100% opaque completely blocks all text bleed (was 0.95) */
    opacity: 0.98;
}

/* Progressive text opacity - Apple approach to prevent bleed-through */
.capability-card[data-depth="1"] .capability-card-header,
.capability-card[data-depth="1"] .capability-card-description,
.capability-card[data-depth="1"] .capability-card-tags {
    opacity: 0.95; /* Slight text fade on first stacked card */
}

.capability-card[data-depth="2"] .capability-card-header,
.capability-card[data-depth="2"] .capability-card-description,
.capability-card[data-depth="2"] .capability-card-tags {
    opacity: 0.85; /* Medium text fade on second depth */
}

.capability-card[data-depth="3"] .capability-card-header,
.capability-card[data-depth="3"] .capability-card-description,
.capability-card[data-depth="3"] .capability-card-tags {
    opacity: 0.70; /* Strong text fade on third depth */
}

.capability-card[data-depth="4"] .capability-card-header,
.capability-card[data-depth="4"] .capability-card-description,
.capability-card[data-depth="4"] .capability-card-tags,
.capability-card[data-depth]:not([data-depth="0"]):not([data-depth="1"]):not([data-depth="2"]):not([data-depth="3"]) .capability-card-header,
.capability-card[data-depth]:not([data-depth="0"]):not([data-depth="1"]):not([data-depth="2"]):not([data-depth="3"]) .capability-card-description,
.capability-card[data-depth]:not([data-depth="0"]):not([data-depth="1"]):not([data-depth="2"]):not([data-depth="3"]) .capability-card-tags {
    opacity: 0.50; /* Maximum text fade on deepest cards */
}

.capability-card-corner-tl {
    top: -1px;
    left: -1px;
    border-left: 2px solid;
    border-top: 2px solid;
}

.capability-card-corner-tr {
    top: -1px;
    right: -1px;
    border-right: 2px solid;
    border-top: 2px solid;
}

.capability-card-corner-bl {
    bottom: -1px;
    left: -1px;
    border-left: 2px solid;
    border-bottom: 2px solid;
}

.capability-card-corner-br {
    bottom: -1px;
    right: -1px;
    border-right: 2px solid;
    border-bottom: 2px solid;
}

.capability-card:hover .capability-card-content {
    box-shadow: 0 20px 25px -5px rgba(24, 24, 27, 0.08), 0 8px 10px -6px rgba(24, 24, 27, 0.08);
    border-color: rgba(3, 6, 23, 0.12);
}

/* Card Header - Icon Circle Layout */
.capability-card-header {
    display: flex;
    align-items: flex-start;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl); /* More space for visual hierarchy */
}

/* Direct Icon Styling - Proportional to Content */
.capability-icon {
    width: 96px; /* Match combined height of heading + description */
    height: 96px;
    object-fit: contain;
    flex-shrink: 0;
    margin-top: 0;
}

.capability-card-icon {
    font-size: 1.5rem; /* Larger, more prominent */
    line-height: 1;
    color: #2563eb; /* Blue accent for visual interest */
}

.capability-card-title {
    font-size: clamp(2rem, 4vw, 2.75rem); /* Match Silent Killers heading exactly */
    font-weight: 700;
    color: #0F172A;
    margin: 0 0 1rem 0; /* Perfect spacing to description */
    letter-spacing: -0.025em;
    line-height: 1.3; /* Match Silent Killers line-height */
}

/* Card Description */
.capability-card-description {
    font-size: 1.0625rem; /* Slightly larger for readability */
    line-height: 1.65; /* More breathing room */
    color: #475569; /* Balanced contrast - not too light, not too dark */
    margin: 0;
    flex-grow: 1;
    font-weight: 400; /* Regular weight for body text */
}

/* Card Tags */
.capability-card-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    margin-top: var(--space-xl);
    padding-top: var(--space-xl);
    border-top: 1px solid rgba(0, 0, 0, 0.06);
}

.capability-tag {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: rgba(0, 0, 0, 0.04);
    color: var(--darkest);
    font-size: 0.875rem;
    font-weight: 600;
    border-radius: 100px;
    border: 1px solid rgba(0, 0, 0, 0.08);
    transition: all 0.2s cubic-bezier(0.22, 1, 0.36, 1);
}

.capability-tag:hover {
    background: rgba(0, 0, 0, 0.08);
    border-color: rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
}

/* ========================================
   RESPONSIVE BREAKPOINTS - Match Nav Container
   ======================================== */

/* Large screens - wider container (1440px) */
@media (min-width: 1440px) {
    .capabilities-container {
        max-width: 1600px; /* Match nav-container on large screens */
    }
}

/* Desktop - constrained container (1024px-1439.98px) */
@media (min-width: 1024px) and (max-width: 1439.98px) {
    .capabilities-container {
        max-width: calc(100vw - 4rem); /* Match nav-container responsive width */
    }
}

/* Tablet - constrained container (810px-1023.98px) */
@media (min-width: 810px) and (max-width: 1023.98px) {
    .capabilities-container {
        max-width: calc(100vw - 4rem); /* Match nav-container responsive width */
    }
}

/* Mobile - responsive container (809.98px) */
@media (max-width: 809.98px) {
    .capabilities-container {
        padding: 0 var(--space-md); /* Match nav-container mobile padding */
        max-width: calc(100vw - 2rem); /* Match nav-container mobile width */
    }
}

/* Responsive Behavior */
@media (max-width: 1024px) {
    .capabilities-cards-wrapper {
        min-height: 300vh;
    }

    .capability-card-content {
        padding: var(--space-3xl);
    }

    .capability-card-title {
        font-size: clamp(1.75rem, 3.5vw, 2.25rem); /* Scaled down but responsive */
        margin-bottom: 0.875rem;
    }

    .capability-card-description {
        font-size: 1rem;
    }

    .capability-icon {
        width: 80px; /* Slightly smaller for tablet */
        height: 80px;
    }
}

@media (max-width: 768px) {
    .capabilities-section {
        padding: var(--space-3xl) 0;
    }

    .capabilities-intro {
        font-size: 1.125rem;
        margin-bottom: var(--space-3xl);
    }

    .capabilities-cards-wrapper {
        min-height: auto !important;  /* No tall scrolling container on mobile */
        display: block;
    }

    .capabilities-cards {
        position: static !important;  /* Disable sticky positioning */
        top: auto !important;
        height: auto !important;
        display: block;
    }

    .capability-card {
        position: relative !important;  /* Force override JavaScript positioning */
        inset: auto !important;
        margin-bottom: var(--space-xl);
        transform: none !important;
        opacity: 1 !important;  /* Always visible on mobile */
    }

    .capability-card-content {
        padding: var(--space-2xl);
        min-height: 400px;
    }

    .capability-card-header {
        gap: var(--space-md);
    }

    .capability-icon {
        width: 64px; /* Mobile size */
        height: 64px;
    }

    .capability-card-title {
        font-size: clamp(1.5rem, 4vw, 1.875rem); /* Mobile responsive */
        margin-bottom: 0.75rem;
    }

    .capability-card-description {
        font-size: 1rem;
    }

    .capability-tag {
        padding: 0.375rem 0.875rem;
        font-size: 0.8125rem;
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .capability-card {
        transform: none !important;
        transition: none !important;
    }

    .capability-card:hover .card-content {
        transform: none;
    }

    .tag:hover {
        transform: none;
    }
}